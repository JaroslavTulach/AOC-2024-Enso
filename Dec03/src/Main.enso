from Standard.Base import all
from Standard.Table import all
from Standard.Database import all
from Standard.AWS import all
from Standard.Google_Api import all
from Standard.Snowflake import all
import Standard.Examples
import Standard.Visualization
from Standard.Base.Meta import Enso_Project

## ICON group
evaluate any4 =
    any5 = Regex.compile "mul\(([0-9][0-9]?[0-9]?),([0-9][0-9]?[0-9]?)$"
    any6 = any5.match any4
    if any6.is_nothing || any6.groups.length != 3 then 0 else
        vector1 = any6.groups
        node1 = vector1.at 1
        node2 = vector1.at 2
        any7 = node1.parse_integer
        any8 = node2.parse_integer
        prod1 = any7 * any8
        prod1

main =
    any2 = Enso_Project.enso_project.data/"input.txt"
    any1 = Data.read any2
    any3 = any1.split ')'
    integer1 = any3.length
    vector2 = any3.map (t-> if t.ends_with "do(" then 1 else (if t.ends_with "don't(" then -1 else 0))
    vector3 = vector2.running_fold 1 (p-> v-> if v != 0 then v else p)
    vector4 = vector3.zip any3
    vector5 = vector4.map (p-> if p.first<0 then "" else p.second)
    vector1 = vector5.filter (..Contains 'mul')
    node1 = vector1.map evaluate
    ## Select one index from the array for testing
    any4 = vector1.at 0
    prod1 = Main.evaluate any4
    any5 = node1.compute ..Sum
    integer2 = vector1.length



#### METADATA ####
[[{"index":{"value":318},"size":{"value":4}},"4993bb43-d8d1-4db6-8113-828d68e287eb"],[{"index":{"value":336},"size":{"value":13}},"ec14d3c5-8a6e-4807-a4b8-1531602b0d28"],[{"index":{"value":336},"size":{"value":61}},"b6685180-f882-4128-8ce7-16799d5e2cd4"],[{"index":{"value":409},"size":{"value":10}},"513f45be-a6f3-4939-bd5a-1c9acf161179"],[{"index":{"value":409},"size":{"value":15}},"d6840867-563d-4a90-b29b-a11786cf6594"],[{"index":{"value":451},"size":{"value":11}},"8b4fa1b8-78d6-45d0-bc4c-db20c09665f1"],[{"index":{"value":505},"size":{"value":11}},"8b4fa1b8-78d6-45d0-bc4c-db20c09665f1"],[{"index":{"value":562},"size":{"value":12}},"68ae0f39-ff92-4dae-85ee-463f8051c44f"],[{"index":{"value":681},"size":{"value":5}},"0f6393ab-430c-4c99-b624-50518fb13c63"],[{"index":{"value":706},"size":{"value":25}},"2b6d0c51-9e95-43bd-ac38-cd35ee8b638a"],[{"index":{"value":706},"size":{"value":42}},"b4f3d5e9-3fae-4c9a-9f59-77d0da17976a"],[{"index":{"value":760},"size":{"value":9}},"e63badb4-e22f-4171-a6c7-93ecf1b33443"],[{"index":{"value":760},"size":{"value":14}},"7aff4c46-fb2f-437b-9a3a-ec4e88302ca4"],[{"index":{"value":786},"size":{"value":10}},"b89b1b89-ef04-4374-ae74-880e22f75ecd"],[{"index":{"value":786},"size":{"value":14}},"3e3b65ad-2435-4c52-a77c-509bf2a3a5d6"],[{"index":{"value":816},"size":{"value":11}},"48908e82-0043-4124-8285-606262da4b70"],[{"index":{"value":842},"size":{"value":8}},"512fd56c-42fd-4bb7-bbab-6b75dff2f949"],[{"index":{"value":842},"size":{"value":88}},"b9dbf7ed-2bec-4cfe-af89-3b561c91f4fd"],[{"index":{"value":945},"size":{"value":20}},"21d6ba0b-2b65-4de9-aca3-3e2f896dc6c7"],[{"index":{"value":945},"size":{"value":56}},"98672110-c5e7-4845-a913-e4b35939912c"],[{"index":{"value":1016},"size":{"value":11}},"8323be3c-199d-4c30-8235-37a8e8c2fcf8"],[{"index":{"value":1016},"size":{"value":16}},"c7161ceb-cc0f-478f-9625-08b5b2740a1c"],[{"index":{"value":1047},"size":{"value":11}},"fb632577-be43-4102-852b-27813b4a9252"],[{"index":{"value":1047},"size":{"value":52}},"8718a1d2-ddf4-4e2b-afb6-fedbfb935040"],[{"index":{"value":1114},"size":{"value":14}},"8f1f3169-3ab2-410b-92fc-60ba13cbbe1b"],[{"index":{"value":1114},"size":{"value":33}},"464f3632-7258-47cb-845d-49511eab47e8"],[{"index":{"value":1160},"size":{"value":20}},"7d3b2890-a71c-42cb-a91d-2996eeed479d"],[{"index":{"value":1243},"size":{"value":10}},"3355e9ef-2e50-4a00-8382-782ad3e734eb"],[{"index":{"value":1243},"size":{"value":12}},"94d568f9-6ae5-4005-9db9-2eb18bd70dab"],[{"index":{"value":1268},"size":{"value":18}},"abcb5873-f1ac-43d0-8e2a-4a7f4da0e9ea"],[{"index":{"value":1298},"size":{"value":13}},"5ab9f059-34dd-4d29-bb74-ab7b1ed269c9"],[{"index":{"value":1298},"size":{"value":19}},"460bb75c-7ba2-4cb3-aea7-9d962ea167a5"],[{"index":{"value":1333},"size":{"value":14}},"4aa40236-2569-40bf-9b65-b8628b6b0c64"]]
{"ide":{"node":{"4993bb43-d8d1-4db6-8113-828d68e287eb":{"position":{"vector":[138,275]}},"b6685180-f882-4128-8ce7-16799d5e2cd4":{"position":{"vector":[-299,115]}},"ec14d3c5-8a6e-4807-a4b8-1531602b0d28":{"position":{"vector":[418,168]}},"d6840867-563d-4a90-b29b-a11786cf6594":{"position":{"vector":[55,18]}},"513f45be-a6f3-4939-bd5a-1c9acf161179":{"position":{"vector":[55,18]}},"8b4fa1b8-78d6-45d0-bc4c-db20c09665f1":{"position":{"vector":[55,-54]}},"68ae0f39-ff92-4dae-85ee-463f8051c44f":{"position":{"vector":[351,-152]}},"0f6393ab-430c-4c99-b624-50518fb13c63":{"position":{"vector":[326,-545]}},"b4f3d5e9-3fae-4c9a-9f59-77d0da17976a":{"position":{"vector":[-250,973]}},"2b6d0c51-9e95-43bd-ac38-cd35ee8b638a":{"position":{"vector":[-289,539]}},"7aff4c46-fb2f-437b-9a3a-ec4e88302ca4":{"position":{"vector":[-250,865]}},"e63badb4-e22f-4171-a6c7-93ecf1b33443":{"position":{"vector":[-422,490]}},"3e3b65ad-2435-4c52-a77c-509bf2a3a5d6":{"position":{"vector":[-250,793]},"visualization":{"show":false,"width":263,"height":217}},"b89b1b89-ef04-4374-ae74-880e22f75ecd":{"position":{"vector":[-217,380]}},"48908e82-0043-4124-8285-606262da4b70":{"position":{"vector":[724,747]},"visualization":{"show":true}},"b9dbf7ed-2bec-4cfe-af89-3b561c91f4fd":{"position":{"vector":[-120,673]},"visualization":{"show":false,"width":868.640625,"height":275}},"512fd56c-42fd-4bb7-bbab-6b75dff2f949":{"position":{"vector":[-120,673]}},"98672110-c5e7-4845-a913-e4b35939912c":{"position":{"vector":[-70,597]}},"21d6ba0b-2b65-4de9-aca3-3e2f896dc6c7":{"position":{"vector":[-70,597]}},"c7161ceb-cc0f-478f-9625-08b5b2740a1c":{"position":{"vector":[-70,525]}},"8323be3c-199d-4c30-8235-37a8e8c2fcf8":{"position":{"vector":[-87,470]}},"8718a1d2-ddf4-4e2b-afb6-fedbfb935040":{"position":{"vector":[-50,453]}},"fb632577-be43-4102-852b-27813b4a9252":{"position":{"vector":[-4,431]}},"464f3632-7258-47cb-845d-49511eab47e8":{"position":{"vector":[-186,308]}},"8f1f3169-3ab2-410b-92fc-60ba13cbbe1b":{"position":{"vector":[-151,296]}},"7d3b2890-a71c-42cb-a91d-2996eeed479d":{"position":{"vector":[-250,22]},"visualization":{"show":false,"width":377.9375,"height":225}},"94d568f9-6ae5-4005-9db9-2eb18bd70dab":{"position":{"vector":[193,238]},"visualization":{"show":true,"width":680,"height":144}},"3355e9ef-2e50-4a00-8382-782ad3e734eb":{"position":{"vector":[22,264]}},"abcb5873-f1ac-43d0-8e2a-4a7f4da0e9ea":{"position":{"vector":[193,-42]},"visualization":{"show":true}},"460bb75c-7ba2-4cb3-aea7-9d962ea167a5":{"position":{"vector":[-250,-187]},"visualization":{"show":true}},"5ab9f059-34dd-4d29-bb74-ab7b1ed269c9":{"position":{"vector":[-250,22]}},"4aa40236-2569-40bf-9b65-b8628b6b0c64":{"position":{"vector":[-143,238]},"visualization":{"show":true}}},"widget":{},"snapshot":"eJx9U11v0zAUfc+vuKRITRE1/RoDiQ6NMSEeBogieABU3TU3qcGxLeema6f9eJQ4yZKNLQ9W7HN8zvX9SJzJYMWoY3SxeIc5gcyscQyoVJD00G94qR6B3yPj5aMCpz9WD4MfjEkVrU+tfJiz0uYqUfi351H/tqTzPWZWUX4P+C7zApW8RpZG31EuXy4uiLFRPte5WX9x5g9tOAgGA/h49vkTpM4UNqAdqgKZAPVhAcsAAMrfI1jCV0ppLzYms1IRhFmhfkXRz8n49e9qeevX0fP/nD0NG6GXsKz0RIa82VYuFSSTChUyX2vDW6lTuLnxR1VguVCkU97CkyXMgbekYQKkcqpul9+ONmzc1Os3t1pUm5hKrGYJZJj2wFkfnLUg6sMxLL2AsOhyWkvNlJLrUl7VlNkDFOtMXMd2DM+qG30sCDKU+jbjZTzdQgkqN7bexMj4IpTaFix4z216S4uyWYUjjCuZBpl786nIrZIMw9HQ593HWYc2r7Mc3CZ01iAZWoh4fFKWqowmztdXkrcQxiYKfUWmVUUgus/QQ25I45o1GY06NvM2/TPhCq2lTteJUTFMIbLjE9h5411Z/4kX2nkd25VZtDJzcS1tFXkHPmrhhX+P9bJWJNLl/KZWDsNaWuS0MTruOtw20ZFIpGJyEAlxZjSj1DkMs0INPf9uy5WGzXhVhMEAVqRow2A0gdQx7aEaXd4SoHN4gMQ4YMpZ6rQp5KLfqJOg214XKLXozXB3gn0PlxNcMIEQqyLrNkF3BOo++Ac+7qbx"}}